<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 6.3.0">
  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">
<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-8335634399768246"
     crossorigin="anonymous"></script>
<link rel="stylesheet" href="/css/main.css">


<link rel="stylesheet" href="/lib/font-awesome/css/all.min.css">

<script id="hexo-configurations">
    var NexT = window.NexT || {};
    var CONFIG = {"hostname":"example.com","root":"/","scheme":"Gemini","version":"7.8.0","exturl":false,"sidebar":{"position":"left","display":"post","padding":18,"offset":12,"onmobile":true},"copycode":{"enable":false,"show_result":false,"style":null},"back2top":{"enable":true,"sidebar":false,"scrollpercent":false},"bookmark":{"enable":false,"color":"#222","save":"auto"},"fancybox":false,"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"algolia":{"hits":{"per_page":10},"labels":{"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}},"localsearch":{"enable":true,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false},"motion":{"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},"path":"search.xml"};
  </script>

  <meta name="description" content="1 查看JVM参数1.1 使用Java命令官网地址：The java Command  JAVA Program arguments和VM options区别？ 在Java中，Program arguments和VM options是两个不同的概念，它们各自扮演着不同的角色。  Program arguments是程序参数，也就是传递给Java主类中的main方法的字符串数组args[]。这些参数">
<meta property="og:type" content="article">
<meta property="og:title" content="04 JVM运行时参数">
<meta property="og:url" content="http://example.com/2023/09/04/04%20JVM%E8%BF%90%E8%A1%8C%E6%97%B6%E5%8F%82%E6%95%B0/index.html">
<meta property="og:site_name" content="进学阁">
<meta property="og:description" content="1 查看JVM参数1.1 使用Java命令官网地址：The java Command  JAVA Program arguments和VM options区别？ 在Java中，Program arguments和VM options是两个不同的概念，它们各自扮演着不同的角色。  Program arguments是程序参数，也就是传递给Java主类中的main方法的字符串数组args[]。这些参数">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://cdn.fbbizyy.com/yuque/0/2024/png/696107/1710670297227-52f9383a-d37e-4640-b792-9dcb9fbda190.png">
<meta property="og:image" content="https://cdn.fbbizyy.com/yuque/0/2024/png/696107/1710685937821-9c6715f6-048d-4d43-aba4-a5663d1931cb.png">
<meta property="og:image" content="https://cdn.fbbizyy.com/yuque/0/2021/png/696107/1634282734587-c83b4995-bbe8-45b7-be3a-e22d1af97a78.png">
<meta property="og:image" content="https://cdn.fbbizyy.com/yuque/0/2021/png/696107/1634284524309-bcd19d75-7822-4dbe-a47a-a8ddc12f5d06.png">
<meta property="og:image" content="https://cdn.fbbizyy.com/yuque/0/2021/png/696107/1634288654202-e84d3810-1531-4798-a043-46705f95b9a1.png">
<meta property="og:image" content="https://cdn.fbbizyy.com/yuque/0/2021/png/696107/1634807979451-133e0fa8-116f-4454-8268-3369d97b7e89.png">
<meta property="og:image" content="https://cdn.fbbizyy.com/yuque/0/2021/png/696107/1634810027469-22ce1ff4-2455-4278-817b-64f5c2113ae1.png">
<meta property="og:image" content="https://cdn.fbbizyy.com/yuque/0/2021/png/696107/1634810001132-5a4b9a11-a508-4c6f-bd05-821376dfe1e4.png">
<meta property="og:image" content="https://cdn.fbbizyy.com/yuque/0/2021/png/696107/1634285129321-79f209e2-77e7-4b0c-b7d7-663be5f03e31.png">
<meta property="og:image" content="https://cdn.fbbizyy.com/yuque/0/2021/png/696107/1634293186119-a5a0ea75-5f92-4b69-aab4-996777ed8899.png">
<meta property="og:image" content="https://cdn.fbbizyy.com/yuque/0/2021/png/696107/1634294844466-a37c59cd-ce19-4c13-a96c-0fc7b5395e51.png">
<meta property="og:image" content="https://cdn.fbbizyy.com/yuque/0/2024/png/25873401/1719991115902-3a8772ca-d8dc-4ba8-a200-eababc2d3759.png">
<meta property="og:image" content="https://cdn.fbbizyy.com/yuque/0/2021/png/696107/1634296360400-b259e5b2-acd4-4625-90f4-3a1fe99e2685.png">
<meta property="og:image" content="https://cdn.fbbizyy.com/yuque/0/2021/png/696107/1634296645764-aef9647a-b66d-40fc-aebe-c0505ea13f9e.png">
<meta property="og:image" content="https://cdn.fbbizyy.com/yuque/0/2021/png/696107/1634295658044-7bebc5cb-23a7-4efe-8b38-4b5665d454b4.png">
<meta property="og:image" content="https://cdn.fbbizyy.com/yuque/__latex/e4a9a8c12cba711b3cd6763ae4a5e579.svg">
<meta property="og:image" content="https://cdn.fbbizyy.com/yuque/0/2021/png/696107/1634297424339-da880196-7094-4cc1-bd35-761ecbe2a88b.png">
<meta property="og:image" content="https://cdn.fbbizyy.com/yuque/0/2021/png/696107/1634297435569-075bcde0-ba7e-4250-ad2e-59f1258e070b.png">
<meta property="og:image" content="https://cdn.fbbizyy.com/yuque/0/2021/png/696107/1634299092272-250a4d20-56a7-421c-aedd-24d8f5cfbd25.png">
<meta property="og:image" content="https://cdn.fbbizyy.com/yuque/0/2021/png/696107/1634297953197-12ee82db-333c-4022-a4df-c07bdaf69b03.png">
<meta property="og:image" content="https://cdn.fbbizyy.com/yuque/0/2024/png/25873401/1719991115784-5bd73fc7-7072-459d-9c02-fc4b538be5ce.png">
<meta property="og:image" content="https://cdn.fbbizyy.com/yuque/0/2021/png/696107/1634298965479-63c2af65-ed39-4fdb-b0c6-6e41705468d3.png">
<meta property="og:image" content="https://cdn.fbbizyy.com/yuque/0/2021/png/696107/1634299240584-42346bc2-1098-4b75-9b0f-74391c982881.png">
<meta property="article:published_time" content="2023-09-04T13:33:17.000Z">
<meta property="article:modified_time" content="2025-03-14T09:43:54.359Z">
<meta property="article:author" content="139">
<meta property="article:tag" content="jvm">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://cdn.fbbizyy.com/yuque/0/2024/png/696107/1710670297227-52f9383a-d37e-4640-b792-9dcb9fbda190.png">

<link rel="canonical" href="http://example.com/2023/09/04/04%20JVM%E8%BF%90%E8%A1%8C%E6%97%B6%E5%8F%82%E6%95%B0/">


<script id="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome : false,
    isPost : true,
    lang   : 'zh-CN'
  };
</script>

  <title>04 JVM运行时参数 | 进学阁</title>
  






  <noscript>
  <style>
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-header { opacity: initial; }

  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

</head>

<body itemscope itemtype="http://schema.org/WebPage">
  <div class="container use-motion">
    <div class="headband"></div>

    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="切换导航栏">
      <span class="toggle-line toggle-line-first"></span>
      <span class="toggle-line toggle-line-middle"></span>
      <span class="toggle-line toggle-line-last"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <h1 class="site-title">进学阁</h1>
      <span class="logo-line-after"><i></i></span>
    </a>
      <p class="site-subtitle" itemprop="description">业精于勤荒于嬉，行成于思毁于随</p>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
        <i class="fa fa-search fa-fw fa-lg"></i>
    </div>
  </div>
</div>




<nav class="site-nav">
  <ul id="menu" class="main-menu menu">
        <li class="menu-item menu-item-home">

    <a href="/" rel="section"><i class="fa fa-home fa-fw"></i>首页</a>

  </li>
        <li class="menu-item menu-item-about">

    <a href="/about/" rel="section"><i class="fa fa-user fa-fw"></i>关于</a>

  </li>
        <li class="menu-item menu-item-tags">

    <a href="/tags/" rel="section"><i class="fa fa-tags fa-fw"></i>标签<span class="badge">39</span></a>

  </li>
        <li class="menu-item menu-item-categories">

    <a href="/categories/" rel="section"><i class="fa fa-th fa-fw"></i>分类<span class="badge">13</span></a>

  </li>
        <li class="menu-item menu-item-archives">

    <a href="/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>归档<span class="badge">96</span></a>

  </li>
      <li class="menu-item menu-item-search">
        <a role="button" class="popup-trigger"><i class="fa fa-search fa-fw"></i>搜索
        </a>
      </li>
  </ul>
</nav>



  <div class="search-pop-overlay">
    <div class="popup search-popup">
        <div class="search-header">
  <span class="search-icon">
    <i class="fa fa-search"></i>
  </span>
  <div class="search-input-container">
    <input autocomplete="off" autocapitalize="off"
           placeholder="搜索..." spellcheck="false"
           type="search" class="search-input">
  </div>
  <span class="popup-btn-close">
    <i class="fa fa-times-circle"></i>
  </span>
</div>
<div id="search-result">
  <div id="no-result">
    <i class="fa fa-spinner fa-pulse fa-5x fa-fw"></i>
  </div>
</div>

    </div>
  </div>

</div>
    </header>

    
  <div class="back-to-top">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>


    <main class="main">
      <div class="main-inner">
        <div class="content-wrap">
          

          <div class="content post posts-expand">
            

    
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://example.com/2023/09/04/04%20JVM%E8%BF%90%E8%A1%8C%E6%97%B6%E5%8F%82%E6%95%B0/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/custom/avatar.jpg">
      <meta itemprop="name" content="139">
      <meta itemprop="description" content="一个普通的JAVA开发的博客">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="进学阁">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          04 JVM运行时参数
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2023-09-04 21:33:17" itemprop="dateCreated datePublished" datetime="2023-09-04T21:33:17+08:00">2023-09-04</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2025-03-14 17:43:54" itemprop="dateModified" datetime="2025-03-14T17:43:54+08:00">2025-03-14</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/JVM%E4%B8%8B%E7%AF%87%EF%BC%9A%E6%80%A7%E8%83%BD%E7%9B%91%E6%8E%A7%E4%B8%8E%E8%B0%83%E4%BC%98%E7%AF%87/" itemprop="url" rel="index"><span itemprop="name">JVM下篇：性能监控与调优篇</span></a>
                </span>
            </span>

          
            <span class="post-meta-item" title="阅读次数" id="busuanzi_container_page_pv" style="display: none;">
              <span class="post-meta-item-icon">
                <i class="fa fa-eye"></i>
              </span>
              <span class="post-meta-item-text">阅读次数：</span>
              <span id="busuanzi_value_page_pv"></span>
            </span>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
        <h1 id="1-查看JVM参数"><a href="#1-查看JVM参数" class="headerlink" title="1 查看JVM参数"></a>1 查看JVM参数</h1><h2 id="1-1-使用Java命令"><a href="#1-1-使用Java命令" class="headerlink" title="1.1 使用Java命令"></a>1.1 使用Java命令</h2><p>官网地址：<a target="_blank" rel="noopener" href="https://docs.oracle.com/en/java/javase/13/docs/specs/man/java.html">The java Command</a></p>
<blockquote>
<p><strong>JAVA Program arguments和VM options区别？</strong></p>
<p>在Java中，Program arguments和VM options是两个不同的概念，它们各自扮演着不同的角色。</p>
<ol>
<li>Program arguments是程序参数，<strong>也就是传递给Java主类中的main方法的字符串数组args[]<strong>。这些参数通常以“–”开头，如“–server.port&#x3D;8099”，</strong>用于为应用程序提供特定的输入或配置</strong>。Program arguments是通用的，不依赖于特定的虚拟机设置，因此，即使不是使用Java编写的程序，也可以采用类似的方式来传递参数。然而，处理这些参数可能会稍显复杂，通常需要借助第三方库或自行编写解析逻辑。</li>
</ol>
<p><strong>springboot会识别到它的设置并更改到yaml配置文件中。</strong></p>
<hr>
<span id="more"></span>
<ol start="2">
<li>VM options是虚拟机参数，用于设置Java虚拟机（JVM）的相关属性。这些参数需要以“-D”或“-X”或“-XX”开头，每个参数之间使用空格分隔。例如，“-Xms768m”和“-Xmx768m”用于设置JVM的初始和最大堆内存大小，“-<strong>Dkey&#x3D;value”则用于设定系统属性值</strong>。VM options是Java、Scala等语言专用的参数，具有较高的优先级，并且易于使用。通过VM options，可以优化JVM的性能，调整其内存管理策略，甚至影响Java程序的运行方式。</li>
</ol>
<p><strong>这是在虚拟机里面直接替换了配置值。</strong></p>
<ol start="3">
<li>总的来说，Program arguments和VM options的主要区别在于它们的作用对象和用途。Program arguments主要用于向应用程序传递特定的输入或配置，而VM options则用于设置和调整Java虚拟机的属性和行为。在编写Java程序时，应根据具体需求选择合适的参数类型来配置和运行程序。</li>
</ol>
<p>案例：要为某个配置文件设置启动参数，可以使用下面两个方法？</p>
<ol>
<li>VMOptions如何设置？</li>
</ol>
<p>-Dencrypt.key&#x3D;x</p>
<p>-Dserver.port&#x3D;9999</p>
<p>-DEFly.Name&#x3D;Coco</p>
<p><img src="https://cdn.fbbizyy.com/yuque/0/2024/png/696107/1710670297227-52f9383a-d37e-4640-b792-9dcb9fbda190.png"></p>
<ol start="2">
<li>Program argument如何设置？</li>
</ol>
<p>–encrypt.key&#x3D;x</p>
<p>–server.port&#x3D;9998</p>
<p>–EFly.Name&#x3D;Coco</p>
<p><img src="https://cdn.fbbizyy.com/yuque/0/2024/png/696107/1710685937821-9c6715f6-048d-4d43-aba4-a5663d1931cb.png"></p>
<ol start="4">
<li>总结</li>
</ol>
<p>在Spring Boot中，命令行参数（program arguments）通常用于覆盖application.yml或application.properties中的配置值，<strong>Spring Boot 支持以下类型的命令行参数：</strong></p>
<pre><code>1. **&lt;font style=&quot;color:rgb(5, 7, 59);background-color:rgb(253, 253, 254);&quot;&gt;--&lt;/font&gt;****&lt;font style=&quot;color:rgb(5, 7, 59);background-color:rgb(253, 253, 254);&quot;&gt; 开头的参数，用于设置配置属性的值&lt;/font&gt;**&lt;font style=&quot;color:rgb(5, 7, 59);background-color:rgb(253, 253, 254);&quot;&gt;。例如：&lt;/font&gt;&lt;font style=&quot;color:rgb(5, 7, 59);background-color:rgb(253, 253, 254);&quot;&gt;--server.port=8081&lt;/font&gt;
2. **&lt;font style=&quot;color:rgb(5, 7, 59);background-color:rgb(253, 253, 254);&quot;&gt;-D&lt;/font&gt;****&lt;font style=&quot;color:rgb(5, 7, 59);background-color:rgb(253, 253, 254);&quot;&gt; 开头的参数，用于设置系统属性&lt;/font&gt;**&lt;font style=&quot;color:rgb(5, 7, 59);background-color:rgb(253, 253, 254);&quot;&gt;。例如：&lt;/font&gt;&lt;font style=&quot;color:rgb(5, 7, 59);background-color:rgb(253, 253, 254);&quot;&gt;-Dspring.profiles.active=dev&lt;/font&gt;
</code></pre>
<p><font style="color:rgb(5, 7, 59);background-color:rgb(253, 253, 254);">当Spring Boot应用程序启动时，它会解析这些命令行参数，并将它们应用到应用程序的上下文中。这意味着你可以使用命令行参数来覆盖</font><font style="color:rgb(5, 7, 59);background-color:rgb(253, 253, 254);">application.yml</font><font style="color:rgb(5, 7, 59);background-color:rgb(253, 253, 254);">中的任何配置。</font></p>
</blockquote>
<h3 id="1-1-1-类型一：标准参数选项"><a href="#1-1-1-类型一：标准参数选项" class="headerlink" title="1.1.1 类型一：标准参数选项"></a>1.1.1 类型一：标准参数选项</h3><p><strong>特点</strong></p>
<ul>
<li>比较稳定，后续版本基本不会变化</li>
<li>以<code>-</code>开头</li>
<li>直接在DOS窗口中运行java或者java -help可以看到所有的标准选项</li>
</ul>
<p><strong>常用选项</strong></p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">&gt; </span><span class="language-bash">java -<span class="built_in">help</span></span></span><br><span class="line">用法: 执行类：java [-options] class [args...]</span><br><span class="line">      执行jar文件：java [-options] -jar jarfile [args...]</span><br><span class="line">          </span><br><span class="line">其中选项包括:</span><br><span class="line">    -d32          使用 32 位数据模型 (如果可用)</span><br><span class="line">    -d64          使用 64 位数据模型 (如果可用)</span><br><span class="line">    -server       选择 &quot;server&quot; VM</span><br><span class="line">                  默认 VM 是 server.</span><br><span class="line">    -cp &lt;目录和 zip/jar 文件的类搜索路径&gt;</span><br><span class="line">    -classpath &lt;目录和 zip/jar 文件的类搜索路径&gt;</span><br><span class="line">                  用 ; 分隔的目录, JAR 档案</span><br><span class="line">                  和 ZIP 档案列表, 用于搜索类文件。</span><br><span class="line">    -D&lt;名称&gt;=&lt;值&gt;</span><br><span class="line">                  设置系统属性</span><br><span class="line">    -verbose:[class|gc|jni]</span><br><span class="line">                  启用详细输出</span><br><span class="line">    -version      输出产品版本并退出</span><br><span class="line">    -version:&lt;值&gt;</span><br><span class="line">                  警告: 此功能已过时, 将在</span><br><span class="line">                  未来发行版中删除。</span><br><span class="line">                  需要指定的版本才能运行</span><br><span class="line">    -showversion  输出产品版本并继续</span><br><span class="line">    -jre-restrict-search | -no-jre-restrict-search</span><br><span class="line">                  警告: 此功能已过时, 将在</span><br><span class="line">                  未来发行版中删除。</span><br><span class="line">                  在版本搜索中包括/排除用户专用 JRE</span><br><span class="line">    -? -help      输出此帮助消息</span><br><span class="line">    -X            输出非标准选项的帮助</span><br><span class="line">    -ea[:&lt;packagename&gt;...|:&lt;classname&gt;]</span><br><span class="line">    -enableassertions[:&lt;packagename&gt;...|:&lt;classname&gt;]</span><br><span class="line">                  按指定的粒度启用断言</span><br><span class="line">    -da[:&lt;packagename&gt;...|:&lt;classname&gt;]</span><br><span class="line">    -disableassertions[:&lt;packagename&gt;...|:&lt;classname&gt;]</span><br><span class="line">                  禁用具有指定粒度的断言</span><br><span class="line">    -esa | -enablesystemassertions</span><br><span class="line">                  启用系统断言</span><br><span class="line">    -dsa | -disablesystemassertions</span><br><span class="line">                  禁用系统断言</span><br><span class="line">    -agentlib:&lt;libname&gt;[=&lt;选项&gt;]</span><br><span class="line">                  加载本机代理库 &lt;libname&gt;, 例如 -agentlib:hprof</span><br><span class="line">                  另请参阅 -agentlib:jdwp=help 和 -agentlib:hprof=help</span><br><span class="line">    -agentpath:&lt;pathname&gt;[=&lt;选项&gt;]</span><br><span class="line">                  按完整路径名加载本机代理库</span><br><span class="line">    -javaagent:&lt;jarpath&gt;[=&lt;选项&gt;]</span><br><span class="line">                  加载 Java 编程语言代理, 请参阅 java.lang.instrument</span><br><span class="line">    -splash:&lt;imagepath&gt;</span><br><span class="line">                  使用指定的图像显示启动屏幕</span><br><span class="line">有关详细信息, 请参阅 http://www.oracle.com/technetwork/java/javase/documentation/index.html。</span><br></pre></td></tr></table></figure>

<p><strong>Server 模式和 Client 模式</strong></p>
<p>Hotspot JVM 有两种模式，分别是 server 和 client，分别通过-server 和-client 模式设置</p>
<ul>
<li>32 位系统上，默认使用 Client 类型的 JVM。要想使用 Server 模式，机器配置至少有 2 个以上的 CPU 和 2G 以上的物理内存。client 模式适用于对内存要求较小的桌面应用程序，默认使用 Serial 串行垃圾收集器</li>
<li>64 位系统上，只支持 server 模式的 JVM，适用于需要大内存的应用程序，默认使用并行垃圾收集器</li>
</ul>
<p>官网地址：<a target="_blank" rel="noopener" href="https://docs.oracle.com/javase/8/docs/technotes/guides/vm/server-class.html">https://docs.oracle.com/javase/8/docs/technotes/guides/vm/server-class.html</a></p>
<p>如何知道系统默认使用的是那种模式呢？</p>
<p>通过 java -version 命令：可以看到 Server VM 字样，代表当前系统使用是 Server 模式</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">&gt; </span><span class="language-bash">java -version</span></span><br><span class="line">java version &quot;1.8.0_201&quot;</span><br><span class="line">Java(TM) SE Runtime Environment (build 1.8.0_201-b09)</span><br><span class="line">Java HotSpot(TM) 64-Bit Server VM (build 25.201-b09, mixed mode)</span><br></pre></td></tr></table></figure>

<h3 id="1-1-2-类型二：-X-参数选项"><a href="#1-1-2-类型二：-X-参数选项" class="headerlink" title="1.1.2 类型二：-X 参数选项"></a>1.1.2 类型二：-X 参数选项</h3><p><strong>特点</strong></p>
<ul>
<li>功能还是比较稳定的。但官方说后续版本可能会变更</li>
<li>以为<code>-X</code>开头</li>
<li>直接在DOS窗口中运行<code>java -X</code>命令可以看到所有的X选项</li>
</ul>
<p><strong>选项</strong></p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">&gt; </span><span class="language-bash">java -X</span></span><br><span class="line"></span><br><span class="line">    -Xmixed           混合模式执行 (默认)</span><br><span class="line">    -Xint             仅解释模式执行</span><br><span class="line">    -Xbootclasspath:&lt;用 ; 分隔的目录和 zip/jar 文件&gt;</span><br><span class="line">                      设置搜索路径以引导类和资源</span><br><span class="line">    -Xbootclasspath/a:&lt;用 ; 分隔的目录和 zip/jar 文件&gt;</span><br><span class="line">                      附加在引导类路径末尾</span><br><span class="line">    -Xbootclasspath/p:&lt;用 ; 分隔的目录和 zip/jar 文件&gt;</span><br><span class="line">                      置于引导类路径之前</span><br><span class="line">    -Xdiag            显示附加诊断消息</span><br><span class="line">    -Xnoclassgc       禁用类垃圾收集</span><br><span class="line">    -Xincgc           启用增量垃圾收集</span><br><span class="line">    -Xloggc:&lt;file&gt;    将 GC 状态记录在文件中 (带时间戳)</span><br><span class="line">    -Xbatch           禁用后台编译</span><br><span class="line">    -Xms&lt;size&gt;        设置初始 Java 堆大小</span><br><span class="line">    -Xmx&lt;size&gt;        设置最大 Java 堆大小</span><br><span class="line">    -Xss&lt;size&gt;        设置 Java 线程堆栈大小</span><br><span class="line">    -Xprof            输出 cpu 配置文件数据</span><br><span class="line">    -Xfuture          启用最严格的检查, 预期将来的默认值</span><br><span class="line">    -Xrs              减少 Java/VM 对操作系统信号的使用 (请参阅文档)</span><br><span class="line">    -Xcheck:jni       对 JNI 函数执行其他检查</span><br><span class="line">    -Xshare:off       不尝试使用共享类数据</span><br><span class="line">    -Xshare:auto      在可能的情况下使用共享类数据 (默认)</span><br><span class="line">    -Xshare:on        要求使用共享类数据, 否则将失败。</span><br><span class="line">    -XshowSettings    显示所有设置并继续</span><br><span class="line">    -XshowSettings:all</span><br><span class="line">                      显示所有设置并继续</span><br><span class="line">    -XshowSettings:vm 显示所有与 vm 相关的设置并继续</span><br><span class="line">    -XshowSettings:properties</span><br><span class="line">                      显示所有属性设置并继续</span><br><span class="line">    -XshowSettings:locale</span><br><span class="line">                      显示所有与区域设置相关的设置并继续</span><br><span class="line">-X 选项是非标准选项, 如有更改, 恕不另行通知。</span><br></pre></td></tr></table></figure>

<p><strong>精选设置：程序的执行模式</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">如何知道 JVM 默认使用的是混合模式呢？</span><br><span class="line">通过 java -version 命令：可以看到 mixed mode 字样，代表当前系统使用的是混合模式。</span><br><span class="line">设置：-Xmixed:混合模式执行 (默认)</span><br></pre></td></tr></table></figure>

<p><strong>精选设置：堆栈设置</strong></p>
<p><img src="https://cdn.fbbizyy.com/yuque/0/2021/png/696107/1634282734587-c83b4995-bbe8-45b7-be3a-e22d1af97a78.png"></p>
<h3 id="1-1-3-类型三：-XX-参数选项"><a href="#1-1-3-类型三：-XX-参数选项" class="headerlink" title="1.1.3 类型三：-XX 参数选项"></a>1.1.3 类型三：-XX 参数选项</h3><p><strong>特点</strong></p>
<ul>
<li>使用最多的参数类型，但多数选项属于实验性，不稳定</li>
<li>以<code>-XX:</code>开头</li>
<li>用于开发和调试JVM</li>
</ul>
<p><strong>查看：使用java -XX:PrintXXXXXX命令查看所有配置的XX值</strong></p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">java -XX:+PrintCommandLineFlags 程序运行时JVM默认设置或用户手动设置的XX选项</span><br><span class="line">java -XX:+PrintFlagsInitial 打印所有XX选项的默认值</span><br><span class="line">java -XX:+PrintFlagsFinal 打印所有XX选项的实际值</span><br><span class="line">java -XX:+PrintVMOptions 打印JVM的参数</span><br></pre></td></tr></table></figure>

<p><strong>配置</strong></p>
<p><img src="https://cdn.fbbizyy.com/yuque/0/2021/png/696107/1634284524309-bcd19d75-7822-4dbe-a47a-a8ddc12f5d06.png"></p>
<h2 id="1-2-使用JInfo命令-★推荐"><a href="#1-2-使用JInfo命令-★推荐" class="headerlink" title="1.2 使用JInfo命令(★推荐)"></a>1.2 使用JInfo命令(★推荐)</h2><p><img src="https://cdn.fbbizyy.com/yuque/0/2021/png/696107/1634288654202-e84d3810-1531-4798-a043-46705f95b9a1.png"></p>
<h1 id="2-修改JVM参数"><a href="#2-修改JVM参数" class="headerlink" title="2 修改JVM参数"></a>2 修改JVM参数</h1><p><strong>方式一：使用java命令（直接运行jar包）</strong></p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">java -Xms100m -Xmx100m -XX:+PrintGCDetails -XX:+PrintGCDateStamps -XX:+PrintGCTimeStamps -jar demo.jar</span><br></pre></td></tr></table></figure>

<p><strong>方式二：通过jinfo命令（在运行程序中进行修改）</strong></p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">设置Boolean类型参数</span></span><br><span class="line">jinfo -flag [+|-]&lt;name&gt; &lt;pid&gt;</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">设置非Boolean类型参数</span></span><br><span class="line">jinfo -flag &lt;name&gt;=&lt;value&gt; &lt;pid&gt;</span><br></pre></td></tr></table></figure>

<p>附：如上方法只有被标记为 manageable 的参数才可以被动态修改</p>
<p><img src="https://cdn.fbbizyy.com/yuque/0/2021/png/696107/1634807979451-133e0fa8-116f-4454-8268-3369d97b7e89.png"></p>
<p><strong>方式三：通过tomcat 运行war包更改</strong></p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">linux下catalina.sh添加</span></span><br><span class="line">JAVA_OPTS=&quot;-Xms512M -Xmx1024M&quot;</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">windows下catalina.bat添加</span></span><br><span class="line">set &quot;JAVA_OPTS=-Xms512M -Xmx1024M&quot;</span><br></pre></td></tr></table></figure>

<blockquote>
<p>添加位置在<font style="color:rgb(77, 77, 77);">cygwin&#x3D;false前（-</font>Xms是JVM堆空间初始化大小，-Xss是堆空间最大值，-Xss是栈空间大小，-XX:PermSize是永久代大小。JDK已经更改为元空间了 <font style="color:rgb(77, 77, 77);">）</font></p>
<p><img src="https://cdn.fbbizyy.com/yuque/0/2021/png/696107/1634810027469-22ce1ff4-2455-4278-817b-64f5c2113ae1.png"></p>
<p>添加后的效果</p>
<p><img src="https://cdn.fbbizyy.com/yuque/0/2021/png/696107/1634810001132-5a4b9a11-a508-4c6f-bd05-821376dfe1e4.png"></p>
</blockquote>
<p><strong>方式四：在IDEA里面进行更改</strong></p>
<p><img src="https://cdn.fbbizyy.com/yuque/0/2021/png/696107/1634285129321-79f209e2-77e7-4b0c-b7d7-663be5f03e31.png"></p>
<p>eclipse 和 idea 差不多，在 Run Configurations 中 VM Options 中配置即可，大同小异</p>
<h1 id="3-细分的-JVM-参数选项"><a href="#3-细分的-JVM-参数选项" class="headerlink" title="3 细分的 JVM 参数选项"></a>3 细分的 JVM 参数选项</h1><h2 id="3-1-堆、栈、方法区等内存大小参数"><a href="#3-1-堆、栈、方法区等内存大小参数" class="headerlink" title="3.1 堆、栈、方法区等内存大小参数"></a>3.1 堆、栈、方法区等内存大小参数</h2><p><img src="https://cdn.fbbizyy.com/yuque/0/2021/png/696107/1634293186119-a5a0ea75-5f92-4b69-aab4-996777ed8899.png"></p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">栈</span></span><br><span class="line">-Xss128k &lt;==&gt; -XX:ThreadStackSize=128k 设置线程栈的大小为128K</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">堆</span></span><br><span class="line">-Xms2048m &lt;==&gt; -XX:InitialHeapSize=2048m 设置JVM初始堆内存为2048M</span><br><span class="line">-Xmx2048m &lt;==&gt; -XX:MaxHeapSize=2048m 设置JVM最大堆内存为2048M</span><br><span class="line">-Xmn2g &lt;==&gt; -XX:NewSize=2g -XX:MaxNewSize=2g 设置年轻代大小为2G</span><br><span class="line">-XX:SurvivorRatio=8 设置Eden区与Survivor区的比值，默认为8</span><br><span class="line">-XX:NewRatio=2 设置老年代与年轻代的比例，默认为2</span><br><span class="line">-XX:+UseAdaptiveSizePolicy 设置大小比例自适应，默认开启</span><br><span class="line">-XX:PretenureSizeThreadshold=1024 设置让大于此阈值的对象直接分配在老年代，只对Serial、ParNew收集器有效</span><br><span class="line">-XX:MaxTenuringThreshold=15 设置新生代晋升老年代的年龄限制，默认为15</span><br><span class="line">-XX:TargetSurvivorRatio 设置MinorGC结束后Survivor区占用空间的期望比例</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">方法区</span></span><br><span class="line">-XX:MetaspaceSize / -XX:PermSize=256m 设置元空间/永久代初始值为256M</span><br><span class="line">-XX:MaxMetaspaceSize / -XX:MaxPermSize=256m 设置元空间/永久代最大值为256M</span><br><span class="line">-XX:+UseCompressedOops 使用压缩对象</span><br><span class="line">-XX:+UseCompressedClassPointers 使用压缩类指针</span><br><span class="line">-XX:CompressedClassSpaceSize 设置Klass Metaspace的大小，默认1G</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">直接内存</span></span><br><span class="line">-XX:MaxDirectMemorySize 指定DirectMemory容量，默认等于Java堆最大值</span><br></pre></td></tr></table></figure>

<h2 id="3-2-OutOfMemory-相关的选项"><a href="#3-2-OutOfMemory-相关的选项" class="headerlink" title="3.2 OutOfMemory 相关的选项"></a>3.2 OutOfMemory 相关的选项</h2><p><img src="https://cdn.fbbizyy.com/yuque/0/2021/png/696107/1634294844466-a37c59cd-ce19-4c13-a96c-0fc7b5395e51.png"></p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">-XX:+HeapDumpOnOutMemoryError 内存出现OOM时生成Heap转储文件，两者互斥</span><br><span class="line">-XX:+HeapDumpBeforeFullGC 出现FullGC时生成Heap转储文件，两者互斥</span><br><span class="line">-XX:HeapDumpPath=&lt;path&gt; 指定heap转储文件的存储路径，默认当前目录</span><br><span class="line">-XX:OnOutOfMemoryError=&lt;path&gt; 指定可行性程序或脚本的路径，当发生OOM时执行脚本</span><br></pre></td></tr></table></figure>

<h2 id="3-3-垃圾收集器相关选项"><a href="#3-3-垃圾收集器相关选项" class="headerlink" title="3.3 垃圾收集器相关选项"></a>3.3 垃圾收集器相关选项</h2><h3 id="垃圾回收器概述"><a href="#垃圾回收器概述" class="headerlink" title="垃圾回收器概述"></a>垃圾回收器概述</h3><p>首先需了解垃圾收集器之间的搭配使用关系（黑色会可连接）</p>
<ul>
<li>红色虚线表示在 jdk8 时被 Deprecate，jdk9 时被删除</li>
<li>绿色虚线表示在 jdk14 时被 Deprecate</li>
<li>绿色虚框表示在 jdk9 时被 Deprecate，jdk14 时被删除</li>
</ul>
<p><img src="https://cdn.fbbizyy.com/yuque/0/2024/png/25873401/1719991115902-3a8772ca-d8dc-4ba8-a200-eababc2d3759.png"><img src="https://cdn.fbbizyy.com/yuque/0/2021/png/696107/1634296360400-b259e5b2-acd4-4625-90f4-3a1fe99e2685.png"><img src="https://cdn.fbbizyy.com/yuque/0/2021/png/696107/1634296645764-aef9647a-b66d-40fc-aebe-c0505ea13f9e.png"></p>
<h3 id="Serial串行回收器"><a href="#Serial串行回收器" class="headerlink" title="Serial串行回收器"></a>Serial串行回收器</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">Serial回收器</span></span><br><span class="line">-XX:+UseSerialGC  年轻代使用Serial GC， 老年代使用Serial Old GC</span><br></pre></td></tr></table></figure>

<h3 id="ParNew并行回收器"><a href="#ParNew并行回收器" class="headerlink" title="ParNew并行回收器"></a>ParNew并行回收器</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">-XX:+UseParNewGC  年轻代使用ParNew GC</span><br><span class="line">-XX:ParallelGCThreads  设置年轻代并行收集器的线程数。</span><br><span class="line">一般地，最好与CPU数量相等，以避免过多的线程数影响垃圾收集性能。</span><br></pre></td></tr></table></figure>

<h3 id="Parallel并行回收器（JDK8默认的）"><a href="#Parallel并行回收器（JDK8默认的）" class="headerlink" title="Parallel并行回收器（JDK8默认的）"></a>Parallel并行回收器（JDK8默认的）</h3><p><img src="https://cdn.fbbizyy.com/yuque/0/2021/png/696107/1634295658044-7bebc5cb-23a7-4efe-8b38-4b5665d454b4.png"></p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">Parallel回收器</span></span><br><span class="line">-XX:+UseParallelGC  年轻代使用 Parallel Scavenge GC，互相激活</span><br><span class="line">-XX:+UseParallelOldGC  老年代使用 Parallel Old GC，互相激活</span><br><span class="line">-XX:ParallelGCThreads	 设置年轻代并行收集器的线程数。一般地，最好与CPU数量相等，以避免过多的线程数影响垃圾收集性能。</span><br><span class="line">-XX:MaxGCPauseMillis  设置垃圾收集器最大停顿时间（即STW的时间），单位是毫秒。</span><br><span class="line">	为了尽可能地把停顿时间控制在MaxGCPauseMills以内，收集器在工作时会调整Java堆大小或者其他一些参数。</span><br><span class="line">	对于用户来讲，停顿时间越短体验越好；但是服务器端注重高并发，整体的吞吐量。</span><br><span class="line">	所以服务器端适合Parallel，进行控制。该参数使用需谨慎。</span><br><span class="line">-XX:GCTimeRatio  垃圾收集时间占总时间的比例（1 / (N＋1)），用于衡量吞吐量的大小</span><br><span class="line">	取值范围（0,100），默认值99，也就是垃圾回收时间不超过1％。</span><br><span class="line">	与前一个-XX：MaxGCPauseMillis参数有一定矛盾性。暂停时间越长，Radio参数就容易超过设定的比例。</span><br><span class="line">-XX:+UseAdaptiveSizePolicy  设置Parallel Scavenge收集器具有自适应调节策略。</span><br><span class="line">	在这种模式下，年轻代的大小、Eden和Survivor的比例、晋升老年代的对象年龄等参数会被自动调整，以达到在堆大小、吞吐量和停顿时间之间的平衡点。</span><br><span class="line">	在手动调优比较困难的场合，可以直接使用这种自适应的方式，仅指定虚拟机的最大堆、目标的吞吐量（GCTimeRatio）和停顿时间（MaxGCPauseMills），让虚拟机自己完成调优工作。</span><br></pre></td></tr></table></figure>

<h3 id=""><a href="#" class="headerlink" title=""></a><img src="https://cdn.fbbizyy.com/yuque/__latex/e4a9a8c12cba711b3cd6763ae4a5e579.svg" alt="image"></h3><h3 id="CMS回收器（JDK14已被killed）"><a href="#CMS回收器（JDK14已被killed）" class="headerlink" title="CMS回收器（JDK14已被killed）"></a>CMS回收器（JDK14已被killed）</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">CMS回收器</span></span><br><span class="line">-XX:+UseConcMarkSweepGC  年轻代使用CMS GC。</span><br><span class="line">	开启该参数后会自动将-XX：＋UseParNewGC打开。即：ParNew（Young区）+ CMS（Old区）+ Serial Old的组合</span><br><span class="line">-XX:CMSInitiatingOccupanyFraction  设置堆内存使用率的阈值，一旦达到该阈值，便开始进行回收。JDK5及以前版本的默认值为68，DK6及以上版本默认值为92％。</span><br><span class="line">	如果内存增长缓慢，则可以设置一个稍大的值，大的阈值可以有效降低CMS的触发频率，减少老年代回收的次数可以较为明显地改善应用程序性能。</span><br><span class="line">	反之，如果应用程序内存使用率增长很快，则应该降低这个阈值，以避免频繁触发老年代串行收集器。</span><br><span class="line">	因此通过该选项便可以有效降低Fu1l GC的执行次数。</span><br><span class="line">-XX:+UseCMSInitiatingOccupancyOnly  是否动态可调，使CMS一直按CMSInitiatingOccupancyFraction设定的值启动</span><br><span class="line">-XX:+UseCMSCompactAtFullCollection  用于指定在执行完Full GC后对内存空间进行压缩整理</span><br><span class="line">	以此避免内存碎片的产生。不过由于内存压缩整理过程无法并发执行，所带来的问题就是停顿时间变得更长了。</span><br><span class="line">-XX:CMSFullGCsBeforeCompaction  设置在执行多少次Full GC后对内存空间进行压缩整理。</span><br><span class="line">-XX:ParallelCMSThreads  设置CMS的线程数量。</span><br><span class="line">	CMS 默认启动的线程数是(ParallelGCThreads＋3)/4，ParallelGCThreads 是年轻代并行收集器的线程数。</span><br><span class="line">	当CPU 资源比较紧张时，受到CMS收集器线程的影响，应用程序的性能在垃圾回收阶段可能会非常糟糕。</span><br><span class="line">-XX:ConcGCThreads  设置并发垃圾收集的线程数，默认该值是基于ParallelGCThreads计算出来的</span><br><span class="line">-XX:+CMSScavengeBeforeRemark  强制hotspot在cms remark阶段之前做一次minor gc，用于提高remark阶段的速度</span><br><span class="line">-XX:+CMSClassUnloadingEnable  如果有的话，启用回收Perm 区（JDK8之前）</span><br><span class="line">-XX:+CMSParallelInitialEnabled  用于开启CMS initial-mark阶段采用多线程的方式进行标记</span><br><span class="line">	用于提高标记速度，在Java8开始已经默认开启</span><br><span class="line">-XX:+CMSParallelRemarkEnabled  用户开启CMS remark阶段采用多线程的方式进行重新标记，默认开启</span><br><span class="line">-XX:+ExplicitGCInvokesConcurrent</span><br><span class="line">-XX:+ExplicitGCInvokesConcurrentAndUnloadsClasses</span><br><span class="line">	这两个参数用户指定hotspot虚拟在执行System.gc()时使用CMS周期</span><br><span class="line">-XX:+CMSPrecleaningEnabled  指定CMS是否需要进行Pre cleaning阶段</span><br></pre></td></tr></table></figure>

<h3 id="G1回收器（JDK9之后默认的）"><a href="#G1回收器（JDK9之后默认的）" class="headerlink" title="G1回收器（JDK9之后默认的）"></a>G1回收器（JDK9之后默认的）</h3><p><img src="https://cdn.fbbizyy.com/yuque/0/2021/png/696107/1634297424339-da880196-7094-4cc1-bd35-761ecbe2a88b.png"><img src="https://cdn.fbbizyy.com/yuque/0/2021/png/696107/1634297435569-075bcde0-ba7e-4250-ad2e-59f1258e070b.png"></p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">G1回收器</span></span><br><span class="line">-XX:+UseG1GC 手动指定使用G1收集器执行内存回收任务。</span><br><span class="line">-XX:G1HeapRegionSize 设置每个Region的大小。值是2的幂，范围是1MB到32MB之间，目标是根据最小的Java堆大小划分出约2048个区域。默认是堆内存的1/2000。</span><br><span class="line">-XX:MaxGCPauseMillis  设置期望达到的最大GC停顿时间指标（JVM会尽力实现，但不保证达到）。默认值是200ms</span><br><span class="line">-XX:ParallelGCThread  设置STW时GC线程数的值。最多设置为8</span><br><span class="line">-XX:ConcGCThreads  设置并发标记的线程数。将n设置为并行垃圾回收线程数（ParallelGCThreads）的1/4左右。</span><br><span class="line">-XX:InitiatingHeapOccupancyPercent 设置触发并发GC周期的Java堆占用率阈值。超过此值，就触发GC。默认值是45。</span><br><span class="line">-XX:G1NewSizePercent  新生代占用整个堆内存的最小百分比（默认5％）</span><br><span class="line">-XX:G1MaxNewSizePercent  新生代占用整个堆内存的最大百分比（默认60％）</span><br><span class="line">-XX:G1ReservePercent=10  保留内存区域，防止 to space（Survivor中的to区）溢出</span><br></pre></td></tr></table></figure>

<h3 id="怎么选择垃圾回收器？"><a href="#怎么选择垃圾回收器？" class="headerlink" title="怎么选择垃圾回收器？"></a>怎么选择垃圾回收器？</h3><ul>
<li>优先让 JVM 自适应，调整堆的大小</li>
<li>串行收集器：内存小于 100M；单核、单机程序，并且没有停顿时间的要求</li>
<li>并行收集器：多 CPU、高吞吐量、允许停顿时间超过 1 秒</li>
<li>并发收集器：多 CPU、追求低停顿时间、快速响应（比如延迟不能超过 1 秒，如互联网应用）</li>
<li>官方推荐 G1，性能高。现在互联网的项目，基本都是使用 G1</li>
</ul>
<p>特别说明：</p>
<ul>
<li>没有最好的收集器，更没有万能的收集器</li>
<li>调优永远是针对特定场景、特定需求，不存在一劳永逸的收集器</li>
</ul>
<h2 id="3-4-GC-日志相关选项"><a href="#3-4-GC-日志相关选项" class="headerlink" title="3.4 GC 日志相关选项"></a>3.4 GC 日志相关选项</h2><h3 id="概览"><a href="#概览" class="headerlink" title="概览"></a>概览</h3><p><img src="https://cdn.fbbizyy.com/yuque/0/2021/png/696107/1634299092272-250a4d20-56a7-421c-aedd-24d8f5cfbd25.png"></p>
<h3 id="（★）-XX-PrintGCDetails：打印详细日志信息"><a href="#（★）-XX-PrintGCDetails：打印详细日志信息" class="headerlink" title="（★）-XX:+PrintGCDetails：打印详细日志信息"></a>（★）<code>-XX:+PrintGCDetails</code>：打印详细日志信息<img src="https://cdn.fbbizyy.com/yuque/0/2021/png/696107/1634297953197-12ee82db-333c-4022-a4df-c07bdaf69b03.png"></h3><h3 id="（★）-XX-PrintHeapAtGC-：-打印GC前后的堆信息"><a href="#（★）-XX-PrintHeapAtGC-：-打印GC前后的堆信息" class="headerlink" title="（★）-XX:+PrintHeapAtGC ： 打印GC前后的堆信息"></a>（★）<code>-XX:+PrintHeapAtGC </code>： 打印GC前后的堆信息</h3><p><img src="https://cdn.fbbizyy.com/yuque/0/2024/png/25873401/1719991115784-5bd73fc7-7072-459d-9c02-fc4b538be5ce.png"></p>
<h3 id="（★）-Xloggc-lt-file-gt-输出GC到指定路径下的文件中"><a href="#（★）-Xloggc-lt-file-gt-输出GC到指定路径下的文件中" class="headerlink" title="（★）-Xloggc:&lt;file&gt; 输出GC到指定路径下的文件中"></a>（★）<code>-Xloggc:&lt;file&gt;</code> 输出GC到指定路径下的文件中</h3><p><img src="https://cdn.fbbizyy.com/yuque/0/2021/png/696107/1634298965479-63c2af65-ed39-4fdb-b0c6-6e41705468d3.png"></p>
<h2 id="3-5-其他参数"><a href="#3-5-其他参数" class="headerlink" title="3.5 其他参数"></a>3.5 其他参数</h2><p><img src="https://cdn.fbbizyy.com/yuque/0/2021/png/696107/1634299240584-42346bc2-1098-4b75-9b0f-74391c982881.png"></p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">-XX:+DisableExplicitGC  禁用hotspot执行System.gc()，默认禁用</span><br><span class="line">-XX:ReservedCodeCacheSize=&lt;n&gt;[g|m|k]、-XX:InitialCodeCacheSize=&lt;n&gt;[g|m|k]  指定代码缓存的大小</span><br><span class="line">-XX:+UseCodeCacheFlushing  放弃一些被编译的代码，避免代码缓存被占满时JVM切换到interpreted-only的情况</span><br><span class="line">-XX:+DoEscapeAnalysis  开启逃逸分析</span><br><span class="line">-XX:+UseBiasedLocking  开启偏向锁</span><br><span class="line">-XX:+UseLargePages  开启使用大页面</span><br><span class="line">-XX:+PrintTLAB  打印TLAB的使用情况</span><br><span class="line">-XX:TLABSize  设置TLAB大小</span><br></pre></td></tr></table></figure>

<h1 id="4-通过-Java-代码获取-JVM-参数"><a href="#4-通过-Java-代码获取-JVM-参数" class="headerlink" title="4 通过 Java 代码获取 JVM 参数"></a>4 通过 Java 代码获取 JVM 参数</h1><p>Java 提供了 java.lang.management 包用于监视和管理 Java 虚拟机和 Java 运行时中的其他组件，它允许本地或远程监控和管理运行的 Java 虚拟机。其中 ManagementFactory 类较为常用，另外 Runtime 类可获取内存、CPU 核数等相关的数据。通过使用这些 api，可以监控应用服务器的堆内存使用情况，设置一些阈值进行报警等处理。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">MemoryMonitor</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="type">MemoryMXBean</span> <span class="variable">memorymbean</span> <span class="operator">=</span> ManagementFactory.getMemoryMXBean();</span><br><span class="line">        <span class="type">MemoryUsage</span> <span class="variable">usage</span> <span class="operator">=</span> memorymbean.getHeapMemoryUsage();</span><br><span class="line">        System.out.println(<span class="string">&quot;INIT HEAP: &quot;</span> + usage.getInit() / <span class="number">1024</span> / <span class="number">1024</span> + <span class="string">&quot;m&quot;</span>);</span><br><span class="line">        System.out.println(<span class="string">&quot;MAX HEAP: &quot;</span> + usage.getMax() / <span class="number">1024</span> / <span class="number">1024</span> + <span class="string">&quot;m&quot;</span>);</span><br><span class="line">        System.out.println(<span class="string">&quot;USE HEAP: &quot;</span> + usage.getUsed() / <span class="number">1024</span> / <span class="number">1024</span> + <span class="string">&quot;m&quot;</span>);</span><br><span class="line">        System.out.println(<span class="string">&quot;\nFull Information:&quot;</span>);</span><br><span class="line">        System.out.println(<span class="string">&quot;Heap Memory Usage: &quot;</span> + memorymbean.getHeapMemoryUsage());</span><br><span class="line">        System.out.println(<span class="string">&quot;Non-Heap Memory Usage: &quot;</span> + memorymbean.getNonHeapMemoryUsage());</span><br><span class="line">        System.out.println(<span class="string">&quot;=======================通过java来获取相关系统状态============================ &quot;</span>);</span><br><span class="line">        System.out.println(<span class="string">&quot;当前堆内存大小totalMemory &quot;</span> + (<span class="type">int</span>) Runtime.getRuntime().totalMemory() / <span class="number">1024</span> / <span class="number">1024</span> + <span class="string">&quot;m&quot;</span>);<span class="comment">// 当前堆内存大小</span></span><br><span class="line">        System.out.println(<span class="string">&quot;空闲堆内存大小freeMemory &quot;</span> + (<span class="type">int</span>) Runtime.getRuntime().freeMemory() / <span class="number">1024</span> / <span class="number">1024</span> + <span class="string">&quot;m&quot;</span>);<span class="comment">// 空闲堆内存大小</span></span><br><span class="line">        System.out.println(<span class="string">&quot;最大可用总堆内存maxMemory &quot;</span> + Runtime.getRuntime().maxMemory() / <span class="number">1024</span> / <span class="number">1024</span> + <span class="string">&quot;m&quot;</span>);<span class="comment">// 最大可用总堆内存大小</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>


    </div>

    
    
    

      <footer class="post-footer">
          
          <div class="post-tags">
              <a href="/tags/jvm/" rel="tag"><i class="fa fa-tag"></i> jvm</a>
          </div>

        


        
    <div class="post-nav">
      <div class="post-nav-item">
    <a href="/2023/09/03/03%20JVM%E7%9B%91%E6%8E%A7%E5%8F%8A%E8%AF%8A%E6%96%AD%E5%B7%A5%E5%85%B7-GUI%E7%AF%87/" rel="prev" title="03 JVM监控及诊断工具-GUI篇">
      <i class="fa fa-chevron-left"></i> 03 JVM监控及诊断工具-GUI篇
    </a></div>
      <div class="post-nav-item">
    <a href="/2023/09/05/05%20%E5%88%86%E6%9E%90GC%E6%97%A5%E5%BF%97/" rel="next" title="05 分析GC日志">
      05 分析GC日志 <i class="fa fa-chevron-right"></i>
    </a></div>
    </div>
      </footer>
    
  </article>
  
  
  



          </div>
          

<script>
  window.addEventListener('tabs:register', () => {
    let { activeClass } = CONFIG.comments;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      let activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      let commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }
</script>

        </div>
          
  
  <div class="toggle sidebar-toggle">
    <span class="toggle-line toggle-line-first"></span>
    <span class="toggle-line toggle-line-middle"></span>
    <span class="toggle-line toggle-line-last"></span>
  </div>

  <aside class="sidebar">
    <div class="sidebar-inner">

      <ul class="sidebar-nav motion-element">
        <li class="sidebar-nav-toc">
          文章目录
        </li>
        <li class="sidebar-nav-overview">
          站点概览
        </li>
      </ul>

      <!--noindex-->
      <div class="post-toc-wrap sidebar-panel">
          <div class="post-toc motion-element"><ol class="nav"><li class="nav-item nav-level-1"><a class="nav-link" href="#1-%E6%9F%A5%E7%9C%8BJVM%E5%8F%82%E6%95%B0"><span class="nav-number">1.</span> <span class="nav-text">1 查看JVM参数</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#1-1-%E4%BD%BF%E7%94%A8Java%E5%91%BD%E4%BB%A4"><span class="nav-number">1.1.</span> <span class="nav-text">1.1 使用Java命令</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#1-1-1-%E7%B1%BB%E5%9E%8B%E4%B8%80%EF%BC%9A%E6%A0%87%E5%87%86%E5%8F%82%E6%95%B0%E9%80%89%E9%A1%B9"><span class="nav-number">1.1.1.</span> <span class="nav-text">1.1.1 类型一：标准参数选项</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#1-1-2-%E7%B1%BB%E5%9E%8B%E4%BA%8C%EF%BC%9A-X-%E5%8F%82%E6%95%B0%E9%80%89%E9%A1%B9"><span class="nav-number">1.1.2.</span> <span class="nav-text">1.1.2 类型二：-X 参数选项</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#1-1-3-%E7%B1%BB%E5%9E%8B%E4%B8%89%EF%BC%9A-XX-%E5%8F%82%E6%95%B0%E9%80%89%E9%A1%B9"><span class="nav-number">1.1.3.</span> <span class="nav-text">1.1.3 类型三：-XX 参数选项</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#1-2-%E4%BD%BF%E7%94%A8JInfo%E5%91%BD%E4%BB%A4-%E2%98%85%E6%8E%A8%E8%8D%90"><span class="nav-number">1.2.</span> <span class="nav-text">1.2 使用JInfo命令(★推荐)</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#2-%E4%BF%AE%E6%94%B9JVM%E5%8F%82%E6%95%B0"><span class="nav-number">2.</span> <span class="nav-text">2 修改JVM参数</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#3-%E7%BB%86%E5%88%86%E7%9A%84-JVM-%E5%8F%82%E6%95%B0%E9%80%89%E9%A1%B9"><span class="nav-number">3.</span> <span class="nav-text">3 细分的 JVM 参数选项</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#3-1-%E5%A0%86%E3%80%81%E6%A0%88%E3%80%81%E6%96%B9%E6%B3%95%E5%8C%BA%E7%AD%89%E5%86%85%E5%AD%98%E5%A4%A7%E5%B0%8F%E5%8F%82%E6%95%B0"><span class="nav-number">3.1.</span> <span class="nav-text">3.1 堆、栈、方法区等内存大小参数</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#3-2-OutOfMemory-%E7%9B%B8%E5%85%B3%E7%9A%84%E9%80%89%E9%A1%B9"><span class="nav-number">3.2.</span> <span class="nav-text">3.2 OutOfMemory 相关的选项</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#3-3-%E5%9E%83%E5%9C%BE%E6%94%B6%E9%9B%86%E5%99%A8%E7%9B%B8%E5%85%B3%E9%80%89%E9%A1%B9"><span class="nav-number">3.3.</span> <span class="nav-text">3.3 垃圾收集器相关选项</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%9E%83%E5%9C%BE%E5%9B%9E%E6%94%B6%E5%99%A8%E6%A6%82%E8%BF%B0"><span class="nav-number">3.3.1.</span> <span class="nav-text">垃圾回收器概述</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Serial%E4%B8%B2%E8%A1%8C%E5%9B%9E%E6%94%B6%E5%99%A8"><span class="nav-number">3.3.2.</span> <span class="nav-text">Serial串行回收器</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#ParNew%E5%B9%B6%E8%A1%8C%E5%9B%9E%E6%94%B6%E5%99%A8"><span class="nav-number">3.3.3.</span> <span class="nav-text">ParNew并行回收器</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Parallel%E5%B9%B6%E8%A1%8C%E5%9B%9E%E6%94%B6%E5%99%A8%EF%BC%88JDK8%E9%BB%98%E8%AE%A4%E7%9A%84%EF%BC%89"><span class="nav-number">3.3.4.</span> <span class="nav-text">Parallel并行回收器（JDK8默认的）</span></a></li><li class="nav-item nav-level-3"><a class="nav-link"><span class="nav-number">3.3.5.</span> <span class="nav-text"></span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#CMS%E5%9B%9E%E6%94%B6%E5%99%A8%EF%BC%88JDK14%E5%B7%B2%E8%A2%ABkilled%EF%BC%89"><span class="nav-number">3.3.6.</span> <span class="nav-text">CMS回收器（JDK14已被killed）</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#G1%E5%9B%9E%E6%94%B6%E5%99%A8%EF%BC%88JDK9%E4%B9%8B%E5%90%8E%E9%BB%98%E8%AE%A4%E7%9A%84%EF%BC%89"><span class="nav-number">3.3.7.</span> <span class="nav-text">G1回收器（JDK9之后默认的）</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%80%8E%E4%B9%88%E9%80%89%E6%8B%A9%E5%9E%83%E5%9C%BE%E5%9B%9E%E6%94%B6%E5%99%A8%EF%BC%9F"><span class="nav-number">3.3.8.</span> <span class="nav-text">怎么选择垃圾回收器？</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#3-4-GC-%E6%97%A5%E5%BF%97%E7%9B%B8%E5%85%B3%E9%80%89%E9%A1%B9"><span class="nav-number">3.4.</span> <span class="nav-text">3.4 GC 日志相关选项</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%A6%82%E8%A7%88"><span class="nav-number">3.4.1.</span> <span class="nav-text">概览</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%EF%BC%88%E2%98%85%EF%BC%89-XX-PrintGCDetails%EF%BC%9A%E6%89%93%E5%8D%B0%E8%AF%A6%E7%BB%86%E6%97%A5%E5%BF%97%E4%BF%A1%E6%81%AF"><span class="nav-number">3.4.2.</span> <span class="nav-text">（★）-XX:+PrintGCDetails：打印详细日志信息</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%EF%BC%88%E2%98%85%EF%BC%89-XX-PrintHeapAtGC-%EF%BC%9A-%E6%89%93%E5%8D%B0GC%E5%89%8D%E5%90%8E%E7%9A%84%E5%A0%86%E4%BF%A1%E6%81%AF"><span class="nav-number">3.4.3.</span> <span class="nav-text">（★）-XX:+PrintHeapAtGC ： 打印GC前后的堆信息</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%EF%BC%88%E2%98%85%EF%BC%89-Xloggc-lt-file-gt-%E8%BE%93%E5%87%BAGC%E5%88%B0%E6%8C%87%E5%AE%9A%E8%B7%AF%E5%BE%84%E4%B8%8B%E7%9A%84%E6%96%87%E4%BB%B6%E4%B8%AD"><span class="nav-number">3.4.4.</span> <span class="nav-text">（★）-Xloggc:&lt;file&gt; 输出GC到指定路径下的文件中</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#3-5-%E5%85%B6%E4%BB%96%E5%8F%82%E6%95%B0"><span class="nav-number">3.5.</span> <span class="nav-text">3.5 其他参数</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#4-%E9%80%9A%E8%BF%87-Java-%E4%BB%A3%E7%A0%81%E8%8E%B7%E5%8F%96-JVM-%E5%8F%82%E6%95%B0"><span class="nav-number">4.</span> <span class="nav-text">4 通过 Java 代码获取 JVM 参数</span></a></li></ol></div>
      </div>
      <!--/noindex-->

      <div class="site-overview-wrap sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <img class="site-author-image" itemprop="image" alt="139"
      src="/images/custom/avatar.jpg">
  <p class="site-author-name" itemprop="name">139</p>
  <div class="site-description" itemprop="description">一个普通的JAVA开发的博客</div>
</div>
<div class="site-state-wrap motion-element">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
          <a href="/archives/">
        
          <span class="site-state-item-count">96</span>
          <span class="site-state-item-name">日志</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
            <a href="/categories/">
          
        <span class="site-state-item-count">13</span>
        <span class="site-state-item-name">分类</span></a>
      </div>
      <div class="site-state-item site-state-tags">
            <a href="/tags/">
          
        <span class="site-state-item-count">39</span>
        <span class="site-state-item-name">标签</span></a>
      </div>
  </nav>
</div>



      </div>

    </div>
  </aside>
  <div id="sidebar-dimmer"></div>


      </div>
    </main>

    <footer class="footer">
      <div class="footer-inner">
        

        
  <div class="beian"><a href="https://beian.miit.gov.cn/" rel="noopener" target="_blank">浙ICP备2023004484号-1 </a>
  </div>

<div class="copyright">
  
  &copy; 
  <span itemprop="copyrightYear">2025</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">139</span>
</div>
  <div class="powered-by">由 <a href="https://hexo.io/" class="theme-link" rel="noopener" target="_blank">Hexo</a> & <a href="https://theme-next.org/" class="theme-link" rel="noopener" target="_blank">NexT.Gemini</a> 强力驱动
  </div>
<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-8335634399768246"
     crossorigin="anonymous"></script>
        
<div class="busuanzi-count">
  <script async src="https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>
    <span class="post-meta-item" id="busuanzi_container_site_uv" style="display: none;">
      <span class="post-meta-item-icon">
        <i class="fa fa-user"></i>
      </span>
      <span class="site-uv" title="总访客量">
        <span id="busuanzi_value_site_uv"></span>
      </span>
    </span>
    <span class="post-meta-divider">|</span>
    <span class="post-meta-item" id="busuanzi_container_site_pv" style="display: none;">
      <span class="post-meta-item-icon">
        <i class="fa fa-eye"></i>
      </span>
      <span class="site-pv" title="总访问量">
        <span id="busuanzi_value_site_pv"></span>
      </span>
    </span>
</div>








      </div>
    </footer>
  </div>

  
  <script src="/lib/anime.min.js"></script>
  <script src="/lib/velocity/velocity.min.js"></script>
  <script src="/lib/velocity/velocity.ui.min.js"></script>

<script src="/js/utils.js"></script>

<script src="/js/motion.js"></script>


<script src="/js/schemes/pisces.js"></script>


<script src="/js/next-boot.js"></script>




  




  
<script src="/js/local-search.js"></script>













  

  

</body>
</html>
